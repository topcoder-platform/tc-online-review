<?xml version="1.0"?>

<project name="Online Review" default="dist" basedir=".">

    <property file="topcoder_global.properties" />

    <!-- COMPONENT PARAMETERS -->
    <property name="component" value="online_review" />
    <property name="package" value="com.topcoder.onlinereview" />
    <property name="packagedir" value="com/topcoder/onlinereview" />
    <property name="distfilename" value="review" />
    <property name="component_version" value="1.0" />
    <property name="component_path" value="${distfilename}/${component_version}" />

    <!-- DIRECTORY SETUP -->
    <property name="srcdir" value="src" />
    <property name="tcs_libdir" value="lib/tcs" />
    <property name="ext_libdir" location="lib/third_party" />
    <property name="jar_tcs_libdir" value="lib/tcs" />
    <property name="jar_ext_libdir" location="lib/third_party" />
    <property name="docsdir" value="docs" />
    <property name="configdir" value="conf" />
    <property name="testlogdir" value="log" />
    <property name="testfiles" value="test_files" />
    <property name="javadocsdir" value="${docsdir}/javadocs" />
    <property name="webdir" value="web" />
    <property name="reports" value="reports" />

    <property name="javasrc" value="${srcdir}/java" />
    <property name="javamain" value="${javasrc}/main" />
    <property name="javatests" value="${javasrc}/tests" />
    <property name="sqlsrc" value="${srcdir}/sql" />

    <property name="builddir" value="build/ant" />
    <property name="build_classdir" value="${builddir}/classes" />
    <property name="build_testclassdir" value="${builddir}/testClasses" />
    <property name="build_targetclassdir" value="${builddir}/targetclasses" />
    <property name="build_distdir" value="${builddir}/dist" />
    <property name="build_docsdir" value="${builddir}/${docsdir}" />
    <property name="build_javadocsdir" value="${builddir}/${javadocsdir}" />
    <property name="build_webdir" value="${builddir}/${webdir}" />
    <property name="build_lib" value="${builddir}/lib" />
    <property name="build_tcsdistdir" value="${build_distdir}/${distfilename}-${component_version}" />

    <!-- Server installation directories -->
    <property name="cactus.home.tomcat5x" value="d:\tomcat" />
    <property name="deploy-dir" value="d:\tomcat\webapps\${distfilename}.war" />

    <!-- EXECUTION TAGS -->
    <property name="debug" value="off" />
    <property name="verbose" value="no" />

    <!-- COMPONENT DISTRIBUTION STRUCTURE -->
    <property name="dist_conf" value="${build_tcsdistdir}/${configdir}" />
    <property name="dist_lib" value="${build_distdir}/lib/tcs" />
    <property name="dist_src" value="${build_tcsdistdir}/${srcdir}" />
    <property name="dist_docs" value="${build_tcsdistdir}/${docsdir}" />
    <property name="dist_javadocs" value="${build_tcsdistdir}/${javadocsdir}" />
    <property name="dist_testfiles" value="${build_tcsdistdir}/${testfiles}" />

    <!-- NAME FOR .JAR AND .WAR FILES -->
    <property name="component.jar" value="${dist_lib}/${component_path}/${distfilename}.jar" />
    <property name="javadoc.jar" value="${builddir}/javadocs.jar" />
    <property name="component.tests.jar" value="${dist_lib}/${distfilename}_tests.jar" />
    <property name="component_test.war" value="${build_distdir}/${distfilename}_test.war" />
    <property name="component.dist.jar" value="${build_distdir}/${distfilename}-${component_version}.jar" />
    <property name="dev_submission.jar" value="${component}_${component_version}_dev_submission.jar" />
    <property name="design_submission.jar" value="${component}_${component_version}_design_submission.jar" />
    <property name="dev_dist.jar" value="${component}_${component_version}_dev_dist.jar" />
    <property name="design_dist.jar" value="${component}_${component_version}_design_dist.jar" />
    <property name="component.war" value="${build_distdir}/${distfilename}.war" />
    

    <!-- TCS Dependencies -->
    <property name="authentication_factory.version" value="2.0" />
    <property name="authentication_factory.jar.name" value="authentication_factory.jar" />
    <property name="authentication_factory.path" value="authentication_factory/${authentication_factory.version}" />
    <property name="authentication_factory.jar" value="${tcs_libdir}/${authentication_factory.path}/${authentication_factory.jar.name}" />

    <property name="auto_pilot.version" value="1.0" />
    <property name="auto_pilot.jar.name" value="auto_pilot.jar" />
    <property name="auto_pilot.path" value="auto_pilot/${auto_pilot.version}" />
    <property name="auto_pilot.jar" value="${tcs_libdir}/${auto_pilot.path}/${auto_pilot.jar.name}" />

    <property name="auto_screening_management.version" value="1.0" />
    <property name="auto_screening_management.jar.name" value="auto_screening_management.jar" />
    <property name="auto_screening_management.path" value="auto_screening_management/${auto_screening_management.version}" />
    <property name="auto_screening_management.jar" value="${tcs_libdir}/${auto_screening_management.path}/${auto_screening_management.jar.name}" />

    <property name="base_exception.version" value="1.0" />
    <property name="base_exception.jar.name" value="base_exception.jar" />
    <property name="base_exception.path" value="base_exception/${base_exception.version}" />
    <property name="base_exception.jar" value="${tcs_libdir}/${base_exception.path}/${base_exception.jar.name}" />

    <property name="class_associations.version" value="1.0" />
    <property name="class_associations.jar.name" value="class_associations.jar" />
    <property name="class_associations.path" value="class_associations/${class_associations.version}" />
    <property name="class_associations.jar" value="${tcs_libdir}/${class_associations.path}/${class_associations.jar.name}" />

    <property name="command_line_utility.version" value="1.0" />
    <property name="command_line_utility.jar.name" value="command_line_utility.jar" />
    <property name="command_line_utility.path" value="command_line_utility/${command_line_utility.version}" />
    <property name="command_line_utility.jar" value="${tcs_libdir}/${command_line_utility.path}/${command_line_utility.jar.name}" />

    <property name="configuration_manager.version" value="2.1.5" />
    <property name="configuration_manager.jar.name" value="configuration_manager.jar" />
    <property name="configuration_manager.path" value="configuration_manager/${configuration_manager.version}" />
    <property name="configuration_manager.jar" value="${tcs_libdir}/${configuration_manager.path}/${configuration_manager.jar.name}" />

    <property name="data_validation.version" value="1.0"/>
    <property name="data_validation.jar.name" value="data_validation.jar"/>
    <property name="data_validation.path" value="data_validation/${data_validation.version}"/>
    <property name="data_validation.jar" value="${tcs_libdir}/${data_validation.path}/${data_validation.jar.name}"/>

    <property name="database_abstraction.version" value="1.1" />
    <property name="database_abstraction.jar.name" value="database_abstraction.jar" />
    <property name="database_abstraction.path" value="database_abstraction/${database_abstraction.version}" />
    <property name="database_abstraction.jar" value="${tcs_libdir}/${database_abstraction.path}/${database_abstraction.jar.name}" />

    <property name="db_connection_factory.version" value="1.0" />
    <property name="db_connection_factory.jar.name" value="db_connection_factory.jar" />
    <property name="db_connection_factory.path" value="db_connection_factory/${db_connection_factory.version}" />
    <property name="db_connection_factory.jar" value="${tcs_libdir}/${db_connection_factory.path}/${db_connection_factory.jar.name}" />

    <property name="deliverable_management.version" value="1.0.3" />
    <property name="deliverable_management.jar.name" value="deliverable_management.jar" />
    <property name="deliverable_management.path" value="deliverable_management/${deliverable_management.version}" />
    <property name="deliverable_management.jar" value="${tcs_libdir}/${deliverable_management.path}/${deliverable_management.jar.name}" />

    <property name="deliverable_management_persistence.version" value="1.0.3" />
    <property name="deliverable_management_persistence.jar.name" value="deliverable_management_persistence.jar" />
    <property name="deliverable_management_persistence.path" value="deliverable_management_persistence/${deliverable_management_persistence.version}" />
    <property name="deliverable_management_persistence.jar" value="${tcs_libdir}/${deliverable_management_persistence.path}/${deliverable_management_persistence.jar.name}" />

    <property name="document_generator.version" value="2.0"/>
    <property name="document_generator.jar.name" value="document_generator.jar"/>
    <property name="document_generator.path" value="document_generator/${document_generator.version}"/>
    <property name="document_generator.jar" value="${tcs_libdir}/${document_generator.path}/${document_generator.jar.name}"/>

    <property name="email_engine.version" value="3.0" />
    <property name="email_engine.jar.name" value="email_engine.jar" />
    <property name="email_engine.path" value="email_engine/${email_engine.version}" />
    <property name="email_engine.jar" value="${tcs_libdir}/${email_engine.path}/${email_engine.jar.name}" />

    <property name="file_system_server.version" value="1.0" />
    <property name="file_system_server.jar.name" value="file_system_server.jar" />
    <property name="file_system_server.path" value="file_system_server/${file_system_server.version}" />
    <property name="file_system_server.jar" value="${tcs_libdir}/${file_system_server.path}/${file_system_server.jar.name}" />

    <property name="file_upload.version" value="2.0" />
    <property name="file_upload.jar.name" value="file_upload.jar" />
    <property name="file_upload.path" value="file_upload/${file_upload.version}" />
    <property name="file_upload.jar" value="${tcs_libdir}/${file_upload.path}/${file_upload.jar.name}" />

    <property name="guid_generator.version" value="1.0" />
    <property name="guid_generator.jar.name" value="guid_generator.jar" />
    <property name="guid_generator.path" value="guid_generator/${guid_generator.version}" />
    <property name="guid_generator.jar" value="${tcs_libdir}/${guid_generator.path}/${guid_generator.jar.name}" />

    <property name="id_generator.version" value="3.0" />
    <property name="id_generator.jar.name" value="id_generator.jar" />
    <property name="id_generator.path" value="id_generator/${id_generator.version}" />
    <property name="id_generator.jar" value="${tcs_libdir}/${id_generator.path}/${id_generator.jar.name}" />

    <property name="ip_server.version" value="2.0.1" />
    <property name="ip_server.jar.name" value="ip_server.jar" />
    <property name="ip_server.path" value="ip_server/${ip_server.version}" />
    <property name="ip_server.jar" value="${tcs_libdir}/${ip_server.path}/${ip_server.jar.name}" />

    <property name="JNDI_Utility.version" value="1.0" />
    <property name="JNDI_Utility.jar.name" value="JNDI_Utility.jar" />
    <property name="JNDI_Utility.path" value="JNDI_Utility/${JNDI_Utility.version}" />
    <property name="JNDI_Utility.jar" value="${tcs_libdir}/${JNDI_Utility.path}/${JNDI_Utility.jar.name}" />

    <property name="logging_wrapper.version" value="1.2" />
    <property name="logging_wrapper.jar.name" value="logging_wrapper.jar" />
    <property name="logging_wrapper.path" value="logging_wrapper/${logging_wrapper.version}" />
    <property name="logging_wrapper.jar" value="${tcs_libdir}/${logging_wrapper.path}/${logging_wrapper.jar.name}" />

    <property name="object_factory.version" value="2.0.1" />
    <property name="object_factory.jar.name" value="object_factory.jar" />
    <property name="object_factory.path" value="object_factory/${object_factory.version}" />
    <property name="object_factory.jar" value="${tcs_libdir}/${object_factory.path}/${object_factory.jar.name}" />

    <property name="online_review_ajax_support.version" value="1.0.2" />
    <property name="online_review_ajax_support.jar.name" value="online_review_ajax_support.jar" />
    <property name="online_review_ajax_support.path" value="online_review_ajax_support/${online_review_ajax_support.version}" />
    <property name="online_review_ajax_support.jar" value="${tcs_libdir}/${online_review_ajax_support.path}/${online_review_ajax_support.jar.name}" />

    <property name="online_review_deliverables.version" value="1.0" />
    <property name="online_review_deliverables.jar.name" value="online_review_deliverables.jar" />
    <property name="online_review_deliverables.path" value="online_review_deliverables/${online_review_deliverables.version}" />
    <property name="online_review_deliverables.jar" value="${tcs_libdir}/${online_review_deliverables.path}/${online_review_deliverables.jar.name}" />

    <property name="online_review_login.version" value="1.0.1" />
    <property name="online_review_login.jar.name" value="online_review_login.jar" />
    <property name="online_review_login.path" value="online_review_login/${online_review_login.version}" />
    <property name="online_review_login.jar" value="${tcs_libdir}/${online_review_login.path}/${online_review_login.jar.name}" />

    <property name="online_review_phases.version" value="1.0.5" />
    <property name="online_review_phases.jar.name" value="online_review_phases.jar" />
    <property name="online_review_phases.path" value="online_review_phases/${online_review_phases.version}" />
    <property name="online_review_phases.jar" value="${tcs_libdir}/${online_review_phases.path}/${online_review_phases.jar.name}" />

    <property name="online_review_upload_services.version" value="1.0" />
    <property name="online_review_upload_services.jar.name" value="online_review_upload_services.jar" />
    <property name="online_review_upload_services.path" value="online_review_upload_services/${online_review_upload_services.version}" />
    <property name="online_review_upload_services.jar" value="${tcs_libdir}/${online_review_upload_services.path}/${online_review_upload_services.jar.name}" />

    <property name="phase_management.version" value="1.0.3" />
    <property name="phase_management.jar.name" value="phase_management.jar" />
    <property name="phase_management.path" value="phase_management/${phase_management.version}" />
    <property name="phase_management.jar" value="${tcs_libdir}/${phase_management.path}/${phase_management.jar.name}" />

    <property name="phase_management_persistence.version" value="1.0" />
    <property name="phase_management_persistence.jar.name" value="phase_management_persistence.jar" />
    <property name="phase_management_persistence.path" value="phase_management_persistence/${phase_management_persistence.version}" />
    <property name="phase_management_persistence.jar" value="${tcs_libdir}/${phase_management_persistence.path}/${phase_management_persistence.jar.name}" />

    <property name="project_management.version" value="1.0.1" />
    <property name="project_management.jar.name" value="project_management.jar" />
    <property name="project_management.path" value="project_management/${project_management.version}" />
    <property name="project_management.jar" value="${tcs_libdir}/${project_management.path}/${project_management.jar.name}" />

    <property name="project_management_persistence.version" value="1.1.1" />
    <property name="project_management_persistence.jar.name" value="project_management_persistence.jar" />
    <property name="project_management_persistence.path" value="project_management_persistence/${project_management_persistence.version}" />
    <property name="project_management_persistence.jar" value="${tcs_libdir}/${project_management_persistence.path}/${project_management_persistence.jar.name}" />

    <property name="project_phases.version" value="2.0" />
    <property name="project_phases.jar.name" value="project_phases.jar" />
    <property name="project_phases.path" value="project_phases/${project_phases.version}" />
    <property name="project_phases.jar" value="${tcs_libdir}/${project_phases.path}/${project_phases.jar.name}" />

    <property name="project_phase_template.version" value="1.0.1" />
    <property name="project_phase_template.jar.name" value="project_phase_template.jar" />
    <property name="project_phase_template.path" value="project_phase_template/${project_phase_template.version}" />
    <property name="project_phase_template.jar" value="${tcs_libdir}/${project_phase_template.path}/${project_phase_template.jar.name}" />

    <property name="resource_management.version" value="1.1.1" />
    <property name="resource_management.jar.name" value="resource_management.jar" />
    <property name="resource_management.path" value="resource_management/${resource_management.version}" />
    <property name="resource_management.jar" value="${tcs_libdir}/${resource_management.path}/${resource_management.jar.name}" />

    <property name="resource_management_persistence.version" value="1.2.1" />
    <property name="resource_management_persistence.jar.name" value="resource_management_persistence.jar" />
    <property name="resource_management_persistence.path" value="resource_management_persistence/${resource_management_persistence.version}" />
    <property name="resource_management_persistence.jar" value="${tcs_libdir}/${resource_management_persistence.path}/${resource_management_persistence.jar.name}" />

    <property name="review_data_structure.version" value="1.0" />
    <property name="review_data_structure.jar.name" value="review_data_structure.jar" />
    <property name="review_data_structure.path" value="review_data_structure/${review_data_structure.version}" />
    <property name="review_data_structure.jar" value="${tcs_libdir}/${review_data_structure.path}/${review_data_structure.jar.name}" />

    <property name="review_management.version" value="1.0" />
    <property name="review_management.jar.name" value="review_management.jar" />
    <property name="review_management.path" value="review_management/${review_management.version}" />
    <property name="review_management.jar" value="${tcs_libdir}/${review_management.path}/${review_management.jar.name}" />

    <property name="review_management_persistence.version" value="1.0.1" />
    <property name="review_management_persistence.jar.name" value="review_management_persistence.jar" />
    <property name="review_management_persistence.path" value="review_management_persistence/${review_management_persistence.version}" />
    <property name="review_management_persistence.jar" value="${tcs_libdir}/${review_management_persistence.path}/${review_management_persistence.jar.name}" />

    <property name="review_score_aggregator.version" value="1.0" />
    <property name="review_score_aggregator.jar.name" value="review_score_aggregator.jar" />
    <property name="review_score_aggregator.path" value="review_score_aggregator/${review_score_aggregator.version}" />
    <property name="review_score_aggregator.jar" value="${tcs_libdir}/${review_score_aggregator.path}/${review_score_aggregator.jar.name}" />

    <property name="review_score_calculator.version" value="1.0.3" />
    <property name="review_score_calculator.jar.name" value="review_score_calculator.jar" />
    <property name="review_score_calculator.path" value="review_score_calculator/${review_score_calculator.version}" />
    <property name="review_score_calculator.jar" value="${tcs_libdir}/${review_score_calculator.path}/${review_score_calculator.jar.name}" />

    <property name="scorecard_data_structure.version" value="1.0" />
    <property name="scorecard_data_structure.jar.name" value="scorecard_data_structure.jar" />
    <property name="scorecard_data_structure.path" value="scorecard_data_structure/${scorecard_data_structure.version}" />
    <property name="scorecard_data_structure.jar" value="${tcs_libdir}/${scorecard_data_structure.path}/${scorecard_data_structure.jar.name}" />

    <property name="scorecard_management.version" value="1.0.1" />
    <property name="scorecard_management.jar.name" value="scorecard_management.jar" />
    <property name="scorecard_management.path" value="scorecard_management/${scorecard_management.version}" />
    <property name="scorecard_management.jar" value="${tcs_libdir}/${scorecard_management.path}/${scorecard_management.jar.name}" />

    <property name="scorecard_management_persistence.version" value="1.0.1" />
    <property name="scorecard_management_persistence.jar.name" value="scorecard_management_persistence.jar" />
    <property name="scorecard_management_persistence.path" value="scorecard_management_persistence/${scorecard_management_persistence.version}" />
    <property name="scorecard_management_persistence.jar" value="${tcs_libdir}/${scorecard_management_persistence.path}/${scorecard_management_persistence.jar.name}" />

    <property name="search_builder.version" value="1.3.1" />
    <property name="search_builder.jar.name" value="search_builder.jar" />
    <property name="search_builder.path" value="search_builder/${search_builder.version}" />
    <property name="search_builder.jar" value="${tcs_libdir}/${search_builder.path}/${search_builder.jar.name}" />

    <property name="security_manager.version" value="1.1" />
    <property name="security_manager.jar.name" value="security_manager.jar" />
    <property name="security_manager.path" value="security_manager/${security_manager.version}" />
    <property name="security_manager.jar" value="${tcs_libdir}/${security_manager.path}/${security_manager.jar.name}" />

    <property name="simple_cache.version" value="2.0" />
    <property name="simple_cache.jar.name" value="simple_cache.jar" />
    <property name="simple_cache.path" value="simple_cache/${simple_cache.version}" />
    <property name="simple_cache.jar" value="${tcs_libdir}/${simple_cache.path}/${simple_cache.jar.name}" />

    <property name="typesafe_enum.version" value="1.0" />
    <property name="typesafe_enum.jar.name" value="typesafe_enum.jar" />
    <property name="typesafe_enum.path" value="typesafe_enum/${typesafe_enum.version}" />
    <property name="typesafe_enum.jar" value="${tcs_libdir}/${typesafe_enum.path}/${typesafe_enum.jar.name}" />

    <property name="user_project_data_store.version" value="1.0.1" />
    <property name="user_project_data_store.jar.name" value="user_project_data_store.jar" />
    <property name="user_project_data_store.path" value="user_project_data_store/${user_project_data_store.version}" />
    <property name="user_project_data_store.jar" value="${tcs_libdir}/${user_project_data_store.path}/${user_project_data_store.jar.name}" />

    <property name="weighted_calculator.version" value="1.0" />
    <property name="weighted_calculator.jar.name" value="weighted_calculator.jar" />
    <property name="weighted_calculator.path" value="weighted_calculator/${weighted_calculator.version}" />
    <property name="weighted_calculator.jar" value="${tcs_libdir}/${weighted_calculator.path}/${weighted_calculator.jar.name}" />

    <property name="workdays.version" value="1.0" />
    <property name="workdays.jar.name" value="workdays.jar" />
    <property name="workdays.path" value="workdays/${workdays.version}" />
    <property name="workdays.jar" value="${tcs_libdir}/${workdays.path}/${workdays.jar.name}" />

    <property name="pactsServices.path" value="pacts_services" />
    <property name="pactsServices.jar.name" value="PactsClientServices.jar" />
    <property name="pactsServices.jar" value="${tcs_libdir}/${pactsServices.path}/${pactsServices.jar.name}" />

    <property name="shared.jar.name" value="shared.jar" />
    <property name="shared.jar" value="${tcs_libdir}/${shared.jar.name}" />

    <property name="tcsUtil.jar.name" value="tcsUtil.jar" />
    <property name="tcsUtil.jar" value="${tcs_libdir}/${tcsUtil.jar.name}" />

    <property name="tcwebcommon.jar.name" value="tcwebcommon.jar" />
    <property name="tcwebcommon.jar" value="${tcs_libdir}/${tcwebcommon.jar.name}" />

    <!-- 3rd Party Dependencies  -->
    <property name="ifx-jdbc.jar" value="${ext_libdir}/ifx-jdbc.jar" />
    <property name="jstl.jar" value="${ext_libdir}/jstl.jar" />
    <property name="servlet.jar" value="${cactus.home.tomcat5x}/common/lib/servlet-api.jar" />
    <property name="servlet.jsp.jar" value="${cactus.home.tomcat5x}/common/lib/jsp-api.jar" />
    <property name="mail.jar" value="${cactus.home.tomcat5x}/common/lib/mail.jar" />
    <property name="struts.jar" value="${ext_libdir}/struts-1.2.9.jar" />
    <property name="axis.jar" value="${ext_libdir}/axis-dok.jar" />
    <property name="ejb-2_0.jar" value="${ext_libdir}/ejb-2_0.jar" />
    <property name="commons.beanutils.jar" value="${ext_libdir}/commons-beanutils.jar" />

    <property name="aspectjrt.jar" value="${ext_libdir}/testing/aspectjrt-1.2.1.jar" />
    <property name="cactus.jar" value="${ext_libdir}/testing/cactus-1.7.2.jar" />
    <property name="cactus.ant.jar" value="${ext_libdir}/testing/cactus-ant-1.7.2.jar" />
    <property name="cargo.jar" value="${ext_libdir}/testing/cargo-0.5.jar" />
    <property name="commons.collections.jar" value="${ext_libdir}/testing/commons-collections-2.1.jar" />
    <property name="commons.httpclient.jar" value="${ext_libdir}/testing/commons-httpclient-2.0.2.jar" />
    <property name="commons.logging.jar" value="${ext_libdir}/testing/commons-logging-1.0.4.jar" />
    <property name="httpunit.jar" value="${ext_libdir}/testing/httpunit-1.6.jar" />
    <property name="junit.jar" value="${ext_libdir}/testing/junit-3.8.1.jar" />
    <property name="nekohtml.jar" value="${ext_libdir}/testing/nekohtml-0.9.1.jar" />
<!--
    <property name="servlet-api.jar" value="${ext_libdir}/servlet-api.jar" />
    <property name="javax.servlet.jsp.jar" value="${ext_libdir}/javax.servlet.jsp.jar" />
-->
    <property name="strutstest.jar" value="${ext_libdir}/testing/strutstest-2.1.3.jar" />

    <path id="buildlibs">
        <pathelement location="${ifx-jdbc.jar}" />
        <pathelement location="${jstl.jar}" />
        <pathelement location="${servlet.jar}" />
        <pathelement location="${servlet.jsp.jar}" />
        <pathelement location="${mail.jar}" />
        <pathelement location="${struts.jar}" />
        <pathelement location="${axis.jar}" />
        <pathelement location="${ejb-2_0.jar}" />

        <pathelement location="${authentication_factory.jar}" />
        <pathelement location="${auto_pilot.jar}" />
        <pathelement location="${auto_screening_management.jar}" />
        <pathelement location="${base_exception.jar}" />
        <pathelement location="${class_associations.jar}" />
        <pathelement location="${command_line_utility.jar}" />
        <pathelement location="${configuration_manager.jar}" />
        <pathelement location="${data_validation.jar}" />
        <pathelement location="${database_abstraction.jar}" />
        <pathelement location="${db_connection_factory.jar}" />
        <pathelement location="${deliverable_management.jar}" />
        <pathelement location="${deliverable_management_persistence.jar}" />
        <pathelement location="${document_generator.jar}" />
        <pathelement location="${email_engine.jar}" />
        <pathelement location="${file_system_server.jar}" />
        <pathelement location="${file_upload.jar}" />
        <pathelement location="${guid_generator.jar}" />
        <pathelement location="${id_generator.jar}" />
        <pathelement location="${ip_server.jar}" />
        <pathelement location="${JNDI_Utility.jar}" />
        <pathelement location="${logging_wrapper.jar}" />
        <pathelement location="${object_factory.jar}" />
        <pathelement location="${online_review_ajax_support.jar}" />
        <pathelement location="${online_review_deliverables.jar}" />
        <pathelement location="${online_review_login.jar}" />
        <pathelement location="${online_review_phases.jar}" />
        <pathelement location="${online_review_upload_services.jar}" />
        <pathelement location="${phase_management.jar}" />
        <pathelement location="${phase_management_persistence.jar}" />
        <pathelement location="${project_management.jar}" />
        <pathelement location="${project_management_persistence.jar}" />
        <pathelement location="${project_phases.jar}" />
        <pathelement location="${project_phase_template.jar}" />
        <pathelement location="${resource_management.jar}" />
        <pathelement location="${resource_management_persistence.jar}" />
        <pathelement location="${review_data_structure.jar}" />
        <pathelement location="${review_management.jar}" />
        <pathelement location="${review_management_persistence.jar}" />
        <pathelement location="${review_score_aggregator.jar}" />
        <pathelement location="${review_score_calculator.jar}" />
        <pathelement location="${scorecard_data_structure.jar}" />
        <pathelement location="${scorecard_management.jar}" />
        <pathelement location="${scorecard_management_persistence.jar}" />
        <pathelement location="${search_builder.jar}" />
        <pathelement location="${security_manager.jar}" />
        <pathelement location="${simple_cache.jar}" />
        <pathelement location="${typesafe_enum.jar}" />
        <pathelement location="${user_project_data_store.jar}" />
        <pathelement location="${weighted_calculator.jar}" />
        <pathelement location="${workdays.jar}" />
        <pathelement location="${pactsServices.jar}" />
        <pathelement location="${tcsUtil.jar}" />
        <pathelement location="${tcwebcommon.jar}" />
    </path>

    <path id="cactus.classpath">
        <pathelement location="${junit.jar}" />
        <pathelement location="${aspectjrt.jar}" />
        <pathelement location="${cactus.jar}" />
        <pathelement location="${cactus.ant.jar}" />
        <pathelement location="${commons.beanutils.jar}" />
        <pathelement location="${commons.httpclient.jar}" />
        <pathelement location="${commons.logging.jar}" />
        <pathelement location="${commons.collections.jar}"/>
        <pathelement location="${httpunit.jar}" />
        <pathelement location="${nekohtml.jar}" />
        <pathelement location="${strutstest.jar}" />
        <pathelement location="${cargo.jar}" />

        <pathelement location="${build_testclassdir}" />

        <path refid="buildlibs" />
    </path>

    <taskdef resource="cactus.tasks" classpathref="cactus.classpath" />

    <path id="test.build.classpath">
        <pathelement location="${build_testclassdir}" />
        <pathelement location="${build_classdir}" />
        <path refid="buildlibs" />
        <path refid="cactus.classpath" />
    </path>

    <path id="runtime.classpath">
        <pathelement location="${build_classdir}" />
        <path refid="buildlibs" />
    </path>

    <target name="compile">
        <mkdir dir="${build_classdir}" />
        <javac srcdir="${javamain}"
               destdir="${build_classdir}"
               includes="**/*.java"
               debug="true"
               verbose="${verbose}"
               source="1.5"
               target="1.5"
               >
            <classpath refid="buildlibs" />
        </javac>
    </target>

    <target name="compile_tests" depends="compile">
        <mkdir dir="${build_testclassdir}" />
        <javac srcdir="${javatests}"
               destdir="${build_testclassdir}"
               includes="**/*.java"
               debug="true"
               verbose="${verbose}"
               source="1.5"
               target="1.5"
               >
            <classpath refid="test.build.classpath" />
        </javac>
    </target>

    <target name="compile_ws" depends="compile">
        <mkdir dir="${build_testclassdir}" />
    	
    	<echo>${axis.jar}</echo>
    	<echo>${jboss-client.jar}</echo>
        <javac srcdir="${javatests}"
               destdir="${build_testclassdir}"
               includes="**/UploadServiceClient.java"
               debug="true"
               verbose="${verbose}"
               source="1.5"
               target="1.5"
               >
        	<classpath >
        		<fileset dir="${ext_libdir}" includes="**/*.jar"/>
        		<fileset dir="${JBOSS_HOME}" includes="client/jbossall-client.jar"/>
        	</classpath>
        </javac>
    	
    	<java classname="com.cronos.onlinereview.uploadservices.UploadServiceClient" 
    			fork="true" maxmemory="512m">
	    	<classpath >
	    		<fileset dir="${ext_libdir}" includes="**/*.jar"/>
	    		<fileset dir="${JBOSS_HOME}" includes="client/jbossall-client.jar"/>
	    		<path path="${build_testclassdir}"/>
	    	</classpath>	
		</java>
    </target>
	
	
	
	
    <target name="prepare_tests_war" depends="dist, compile_tests">

        <!-- Cactify the web-app archive -->
        <!-- Done manually becaue of Cactus itself being buggy with out web.xml -->

        <copy file="${component.war}" tofile="${component_test.war}"/>

        <war destfile="${component_test.war}" webxml="${testfiles}/web.xml" update="true">
            <classes dir="${build_testclassdir}" />
            <lib dir="${jar_ext_libdir}/testing" includes="*.jar" />
            <fileset
                dir="${testfiles}"
                includes="jspRedirector.jsp"
            />
        </war>

    </target>

    <target name="test" depends="prepare_tests_war">
        <mkdir dir="${testlogdir}" />

        <!-- Run the tests -->
        <cactus warfile="${component_test.war}" fork="yes">
            <classpath refid="cactus.classpath" />
            <containerset timeout="180000">
                <tomcat5x if="cactus.home.tomcat5x"
                    dir="${cactus.home.tomcat5x}" port="8080"
                    output="${testlogdir}/tomcat5x.out"
                    todir="${testlogdir}"
                    serverxml="${testfiles}/server.xml"
                />
            </containerset>
            <formatter type="brief" usefile="true" />
            <formatter type="xml" />
            <batchtest>
                <fileset dir="${javatests}">
                    <include name="**/*.java" />
                </fileset>
            </batchtest>
        </cactus>

    </target>

    <target name="reports" depends="test">
        <mkdir dir="${reports}" />

        <junitreport todir="${reports}">
            <fileset dir="${testlogdir}">
                <include name="*.xml" />
            </fileset>
            <report format="frames" todir="${reports}" />
        </junitreport>
        <echo>The execution of reports is complete.  Reports are available in /${reports}</echo>
    </target>

    <!-- assume the user is already logged in to cvs and the env is set up. -->
<!--
don't need this anymore.  OR doesn't use it.
    <target name="update_left_nav">
        <mkdir dir="${build_distdir}" />
        <cvs package="web/src/main/com/topcoder/web/jsp/includes/global_left.jsp" dest="${build_distdir}"/>
        <copy file="${build_distdir}/web/src/main/com/topcoder/web/jsp/includes/global_left.jsp"
            tofile="${webdir}/includes/global_left.jsp" overwrite="true" />

        <cvs package="web/resources/taglib/nav.tld" dest="${build_distdir}" />
        <copy file="${build_distdir}/web/resources/taglib/nav.tld"
            tofile="${configdir}/WEB-INF/nav.tld" overwrite="true" />
    </target>
-->

    <target name="dist" depends="clean, compile">
        <mkdir dir="${build_distdir}" />
        <delete file="${component.war}" failonerror="false" />

        <war destfile="${component.war}" webxml="${configdir}/WEB-INF/web.xml" duplicate="fail">
            <webinf dir="${configdir}/WEB-INF" includes="*.tld,*.xml, server-config.wsdd" excludes="web.xml" />
            <classes dir="${build_classdir}" includes="**" />
            <classes dir="${configdir}" includes="**" excludes="WEB-INF/**" />
            <classes dir="${configdir}/WEB-INF/classes" />
            <lib dir="${jar_tcs_libdir}/${authentication_factory.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${auto_pilot.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${auto_screening_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${base_exception.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${class_associations.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${command_line_utility.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${configuration_manager.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${data_validation.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${database_abstraction.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${db_connection_factory.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${deliverable_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${deliverable_management_persistence.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${document_generator.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${email_engine.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${file_system_server.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${file_upload.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${guid_generator.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${id_generator.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${ip_server.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${JNDI_Utility.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${logging_wrapper.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${object_factory.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${online_review_ajax_support.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${online_review_deliverables.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${online_review_login.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${online_review_phases.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${online_review_upload_services.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${phase_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${phase_management_persistence.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${project_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${project_management_persistence.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${project_phases.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${project_phase_template.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${resource_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${resource_management_persistence.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${review_data_structure.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${review_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${review_management_persistence.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${review_score_aggregator.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${review_score_calculator.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${scorecard_data_structure.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${scorecard_management.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${scorecard_management_persistence.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${search_builder.path}" includes="*.jar" />
<!--
Note: The security manager that comes with the app may not be compatible with the server it's deployed on (security is already deployed, but different version),
      so this is not being packaged. If needed, however, uncomment this.
            <lib dir="${jar_tcs_libdir}/${security_manager.path}" includes="*.jar" />
-->
            <lib dir="${jar_tcs_libdir}/${simple_cache.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${typesafe_enum.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${user_project_data_store.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${weighted_calculator.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${workdays.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}/${pactsServices.path}" includes="*.jar" />
            <lib dir="${jar_tcs_libdir}" includes="*.jar" />
            <lib dir="${jar_ext_libdir}" includes="*.jar" excludes="mail.jar, ejb-2_0.jar" />
            <fileset dir="${webdir}" includes="**" excludes="i/**, js/**, css/**" />
        </war>
    </target>

    <target name="dist_tests" depends="compile_tests">
        <mkdir dir="${dist_lib}" />
        <jar jarfile="${component.tests.jar}" basedir="${build_testclassdir}" />
    </target>

    <target name="javadoc" depends="compile">
        <mkdir dir="${dist_javadocs}" />
        <javadoc packagenames="${package}.*" sourcepath="${javamain}" classpath="${build_classdir}" classpathref="buildlibs" destdir="${dist_javadocs}" windowtitle="Topcoder Software" header="&lt;table border=0 cellpadding=0 cellspacing=2&gt;&lt;tr&gt;&lt;td&gt;&lt;font class=tcoder2&gt;&#091; &lt;/font&gt;&lt;font class=tcoder1&gt;TOP&lt;/font&gt;&lt;font class=tcoder2&gt;CODER &lt;/font&gt;&lt;font class=tcoder2&gt;&#093;&lt;/font&gt;&lt;/td&gt;&lt;td&gt;&lt;font class=tcoder4&gt;&#153;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=tcoder3 align=center&gt;&lt;font class=tcoder3&gt;SOFTWARE&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" footer="&lt;table border=0 cellpadding=0 cellspacing=2&gt;&lt;tr&gt;&lt;td&gt;&lt;font class=tcoder2&gt;&#091; &lt;/font&gt;&lt;font class=tcoder1&gt;TOP&lt;/font&gt;&lt;font class=tcoder2&gt;CODER &lt;/font&gt;&lt;font class=tcoder2&gt;&#093;&lt;/font&gt;&lt;/td&gt;&lt;td&gt;&lt;font class=tcoder4&gt;&#153;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=tcoder3 align=center&gt;&lt;font class=tcoder3&gt;SOFTWARE&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" bottom="&lt;font class=tcoder5&gt;Contact TopCoder Software at &lt;a href='http://www.topcodersoftware.com'&gt;www.topcodersoftware.com&lt;/a&gt;&lt;/font&gt;" stylesheetfile="${javadocsdir}/stylesheet.css" verbose="${verbose}">
            <tag name="copyright" description="Copyright:" scope="types" />
        </javadoc>
    </target>

    <target name="clean">
        <delete failonerror="false">
            <fileset dir="${build_classdir}" includes="**/*.class"/>
        </delete>
        <delete failonerror="false">
            <fileset dir="${build_testclassdir}" includes="**/*.class"/>
        </delete>
        <delete file="${component.war}" failonerror="false" />
        <delete file="${component_test.war}" failonerror="false" />
    </target>

    <target name="deploy-common">
        <mkdir dir="${deploy-dir}" />
        <unwar src="${component.war}" dest="${deploy-dir}" />
        <move todir="${deploy-dir}/../../lib" overwrite="true" verbose="true">
            <fileset dir="${deploy-dir}/WEB-INF/lib">
                <include name="${tcsUtil.jar.name}"/>
                <include name="${tcwebcommon.jar.name}"/>
                <include name="${shared.jar.name}"/>
            </fileset>
        </move>
        <delete verbose="true">
            <fileset dir="${deploy-dir}/WEB-INF/lib">
                <include name="log4j.jar"/>
            </fileset>
        </delete>
    </target>

    <target name="deploy" depends="dist, deploy-common" />

    <!-- - - - - - - - - - - - - - - - - -
      target: prod-init
    - - - - - - - - - - - - - - - - - -->
    <target name="prod-init">
    	<property name="component.war" value="${distfilename}.war" />
    </target>

    <target name="deploy-prod" depends="prod-init, deploy-common" />

    <target name="main" depends="deploy, test" />


    <!-- ************************************************************************** -->
    <!-- ************ REMOVE EVERYTHING BELOW HERE FOR THE DISTRIBUTION ************* -->
    <!-- ************************************************************************** -->

    <target name="dist_tcs" depends="clean,dist,javadoc">
        <!-- define tcs distribution format -->
        <!-- uncomment if configuration files exist.
        <mkdir dir="${dist_conf}"/>
        <copy todir="${dist_conf}">
            <fileset dir="${configdir}" />
        </copy>
-->

        <mkdir dir="${dist_src}" />
        <copy todir="${dist_src}">
            <fileset dir="${srcdir}" />
        </copy>

        <copy todir="${dist_docs}">
            <fileset dir="${docsdir}">
                <include name="${component}_Class_Diagram*" />
                <include name="${component}_Use_Case_Diagram*" />
                <include name="${component}_Sequence_Diagram*" />
                <include name="${component}_Requirements_Specification*" />
                <include name="${component}_Component_Specification*" />
                <include name="${component}.zargo" />
                <include name="${component}.zuml" />
            </fileset>
        </copy>

        <mkdir dir="${dist_javadocs}" />
        <copy todir="${dist_javadocs}">
            <fileset dir="${javadocsdir}" />
        </copy>

        <jar jarfile="${javadoc.jar}" basedir="${build_tcsdistdir}\docs\javadocs" />

        <!-- uncomment if test files exist.
        <mkdir dir="${dist_testfiles}"/>
        <copy todir="${dist_testfiles}">
            <fileset dir="${testfiles}" />
        </copy>
-->
        <copy file="build_dist.xml" tofile="${build_tcsdistdir}/build.xml" />
        <copy file="README" tofile="${build_tcsdistdir}/README" />
        <jar jarfile="${component.dist.jar}" basedir="${build_distdir}" excludes="*.jar" />
        <antcall target="moveToTCS" />

    </target>

    <target name="moveToTCS">
        <mkdir dir="${tcs_libdir}/${component_path}" />
        <mkdir dir="${tcs_libdir}/${component_path}/dist" />

        <copy file="${component.jar}" todir="${tcs_libdir}/${component_path}" />

        <copy file="${component.dist.jar}" todir="${tcs_libdir}/${component_path}/dist" />


    </target>

    <target name="dev_submission">
        <jar jarfile="${dev_submission.jar}" basedir="."
            includes="build.xml,
                      README.txt,
                      topcoder_global.properties,
                      ${configdir}/**,
                      ${docsdir}/DeploymentGuide.Doc,
                      ${tcs_libdir}/**/*.*,
                      ${ext_libdir}/**/*.*,
                      ${srcdir}/**/*.java,
                      ${sqlsrc}/**/*.*,
                      ${javatests}/${packagedir}/**,
                      ${testlogdir}/**,
                      ${testfiles}/**,
                      ${webdir}/**/*.*"
            excludes="${webdir}/**/*.htm*,
                      ${webdir}/jsp2/**/*.*,
                      ${webdir}/images/**/*.*,
                      ${webdir}/styles/**/*.*,
                      ${webdir}/includes/review/*.*,
                      ${webdir}/includes/screen/*.*,
                      ${webdir}/**/pc-*.*,
                      ${webdir}/**/pc_*.*,
                      ${webdir}/**/new_pc-*.*,
                      ${webdir}/**/new_pc_*.*,
                      ${webdir}/**/new-pc-*.*,
                      ${webdir}/**/new-pc_*.*"
        />
    </target>

    <target name="design_submission">
        <jar jarfile="${design_submission.jar}" basedir="." includes="${configdir}/**,${javamain}/**,${docsdir}/**,${testfiles}/**" />
    </target>

    <target name="dev_dist">
        <!-- copy TCS Dependencies -->
        <mkdir dir="${jar_tcs_libdir}/${configuration_manager.path}" />
        <copy file="${configmanager.jar}" todir="${jar_tcs_libdir}/${configmanager.path}" />
        <mkdir dir="${jar_tcs_libdir}/${db_connection_factory.path}" />
        <copy file="${db_connection_factory.jar}" todir="${jar_tcs_libdir}/${db_connection_factory.path}" />
        <mkdir dir="${jar_tcs_libdir}/${authentication_factory.path}" />
        <copy file="${authentication_factory.jar}" todir="${jar_tcs_libdir}/${authentication_factory.path}" />
        <mkdir dir="${jar_tcs_libdir}/${authorization.path}" />
        <copy file="${authorization.jar}" todir="${jar_tcs_libdir}/${authorization.path}" />
        <mkdir dir="${jar_tcs_libdir}/${id_generator.path}" />
        <copy file="${id_generator.jar}" todir="${jar_tcs_libdir}/${id_generator.path}" />
        <mkdir dir="${jar_tcs_libdir}/${base_exception.path}"/>
        <copy file="${base_exception.jar}" todir="${jar_tcs_libdir}/${base_exception.path}" />

        <jar jarfile="${dev_dist.jar}"
             basedir="."
             includes="build.xml,
                       ${configdir}/**,
                       ${srcdir}/**,
                       ${docsdir}/**,
                       ${jar_tcs_libdir}/**,
                       ${testfiles}/**"
        />

        <delete dir="${jar_tcs_libdir}"/>
    </target>

    <target name="design_dist">
        <!-- copy TCS Dependencies -->
        <!--
        <mkdir dir="${jar_tcs_libdir}/${configmanager.path}"/>
        <copy file="${configmanager.jar}" todir="${jar_tcs_libdir}/${configmanager.path}" />
        -->
        <jar jarfile="${design_dist.jar}"
             basedir="."
             includes="build.xml,
                       ${configdir}/**,
                       ${srcdir}/**,
                       ${docsdir}/**,
                       ${jar_tcs_libdir}/**,
                       ${testfiles}/**"
        />

        <!--
        <delete dir="${jar_tcs_libdir}"/>
        -->
    </target>

    <!-- ************************************************************************** -->
    <!-- ************************ END REMOVE EVERYTHING ***************************** -->
    <!-- ************************************************************************** -->


</project>
